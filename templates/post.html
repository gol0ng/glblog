{% extends "base.html" %}

{% block title %}{{ post.title }} - {{ super() }}{% endblock %}

{% block content %}
    <article class="post-detail">
        <h2>{{ post.title }}</h2>
        <div class="post-meta">
            <span>作者：{{ post.author }} | 日期：{{ post.created_date.strftime('%Y-%m-%d') }}</span>
            {% if post.tags %}
            <span class="tags">标签: {{ post.tags }}</span>
            {% endif %}
        </div>

        <div class="post-content">
            {{ post_content|safe }}
        </div>

        {% if session.logged_in and session.is_admin %}
            <div class="admin-actions">
                <a href="{{ url_for('edit', post_id=post.id) }}" class="edit-btn">编辑</a>
                <form action="{{ url_for('delete', post_id=post.id) }}" method="post" style="display:inline;">
                    <button type="submit" class="delete-btn" onclick="return confirm('确定要删除这篇文章吗？');">删除</button>
                </form>
            </div>
        {% endif %}

        <a href="{{ url_for('index') }}" class="back-link">&larr; 返回列表</a>
    </article>
{% endblock %}